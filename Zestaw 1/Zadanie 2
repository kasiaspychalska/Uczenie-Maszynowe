import pandas as pd
import csv
df = pd.read_csv("train.tsv", delimiter='\t',
                 names=["Cost", "NumberOfRooms", "Area", "Floor", "Address", "Description"])
df['CostOfSquareMeter'] = df.Cost / df.Area
print(df.CostOfSquareMeter.mean())
with open('out1.csv', 'w') as csvfile:
    writer = csv.writer(csvfile, lineterminator='\n')
    for index, row in df.iterrows():
        if row['NumberOfRooms'] >= 3 and \
                (row['CostOfSquareMeter'] < df.CostOfSquareMeter.mean()):
            writer.writerow([row['NumberOfRooms'], row['Cost'], row['CostOfSquareMeter']])
